\documentclass[border=0.2cm,10pt]{standalone}
 

\input{drawshead2}

\begin{document}
 
\begin{tikzpicture}[tasktree]
 
\node [draw,purpuraA] {\textbf{Plan\phantom{j}Generation}}
    child [missing] {}
     child [purpuraA] {node {Generation criteria\phantom{j}}
        child [purpuraA] {node [darkgray] {Intent corresponding: \testing{PentestGPT}{1}}}
        child [purpuraA] {node [darkgray] {Scenario corresponding: \testingD{pwnd}{Pwn'd}{1}}}
        child [purpuraA] {node [darkgray] {Achieve goal: \progver{AlloyRepair}{3}, \testing{TARGET}{1}, \testing{TARGET}{2}, \vmf{LLM4Vuln}{3(exploit)}, }
                child [white] {node [darkgray] {\phantom{ieve goal:} \testing{AXNav}{1}}} 
            child [purpuraA] {node {Constrained\phantom{j}}
                child [purpuraA] {node [darkgray] {Available tools: \testing{PentestGPT}{6}}} 
            edge from parent}  
        edge from parent}
        child [missing] {}
        child [missing] {}
        child [missing] {}
        child [purpuraA] {node [darkgray] {Fusing: \testing{SysKG-UTF}{3}}}
        child [purpuraA] {node [darkgray] {Refinement/Concretization: \testing{PentestGPT}{7}, \debug{AdbGPT}{2}, \testing{SysKG-UTF}{2},}}
        child [white,draw opacity=0] {node [darkgray] {\phantom{Refinement/Concretization:} \testing{SysKG-UTF}{4}, \testing{AXNav}{2}, \vmf{DLAP}{2}}}
    edge from parent}
    child [missing] {}
    child [missing] {}
    child [missing] {}
    child [missing] {}
    child [missing] {}
    child [missing] {}
    child [missing] {}
    child [missing] {}
    child [missing] {}
    child [purpuraA] {node {Domain\phantom{j}}
        child [purpuraA] {node [darkgray] {SW review: \vmf{DLAP}{2}}}
        child [purpuraA] {node [darkgray] {SW-system integration: \testing{PentestGPT}{1}, \testing{PentestGPT}{6}, \testing{PentestGPT}{7}, }}
         child [white] {node [darkgray] {\phantom{SW-system integration:} \debug{AdbGPT}{2}, \testingD{pwnd}{Pwn'd}{1}, \testing{SysKG-UTF}{2},  }}
        child [white] {node [darkgray] {\phantom{SW-system integration:} \testing{SysKG-UTF}{3}, \testing{SysKG-UTF}{4}, \vmf{LLM4Vuln}{3(exploit)}, }} 
        child [white] {node [darkgray] {\phantom{SW-system integration:} \testing{AXNav}{1}, \testing{AXNav}{2}, \testing{AXNav}{4}}}
        child [purpuraA] {node [darkgray] {Repair: \progver{AlloyRepair}{3}}}
        child [purpuraA] {node [darkgray] {Physical: \testing{TARGET}{1}, \testing{TARGET}{2}}}
    edge from parent}
    child [missing] {}
    child [missing] {}
    child [missing] {}
    child [missing] {}
    child [missing] {}
    child [missing] {}
    child [missing] {}
    child [purpuraA] {node {Nature of output\phantom{j}}
        child [purpuraA] {node [darkgray] {Step-by-step plan: \progver{AlloyRepair}{3}, \testing{PentestGPT}{6}, \testing{TARGET}{1}, \testing{TARGET}{2},}}
        child [white] {node [darkgray] {\phantom{Step-by-step plan:} \testingD{pwnd}{Pwn'd}{1}, \testing{SysKG-UTF}{2}, \testing{SysKG-UTF}{3},  }}
        child [white] {node [darkgray] {\phantom{Step-by-step plan:} \testing{SysKG-UTF}{4}, \vmf{LLM4Vuln}{3(exploit)}, \testing{AXNav}{1}, }} 
        child [white] {node [darkgray] {\phantom{Step-by-step plan:} \testing{AXNav}{4}, \vmf{DLAP}{2} }}
        child [purpuraA] {node [darkgray] {Hierarchical plan: \testing{PentestGPT}{1}}}
        child [purpuraA] {node [darkgray] {Command/Action: \testing{PentestGPT}{7}, \debug{AdbGPT}{2}, \testing{AXNav}{2}}}
    edge from parent} 
    child [missing] {}
    child [missing] {}
    child [missing] {}
    child [missing] {}
    child [missing] {}
    child [missing] {}
    child [purpuraA] {node {Corrective mode\phantom{j}}
        child [purpuraA] {node [darkgray] {Feedback based\phantom{j}}
            child [purpuraA] {node [darkgray] {Outcomes: \testing{PentestGPT}{1}, \testing{AXNav}{4}}}
            edge from parent}
            child [missing] {}
        child [purpuraA] {node [darkgray] {Rule based: \testing{TARGET}{2}}}
    edge from parent}
    child [missing] {}
    child [missing] {}
    child [missing] {}
    child [purpuraA] {node {Reactivity}
        child [purpuraA] {node [darkgray] {Tool invocation: \testing{PentestGPT}{1}, \testingD{pwnd}{Pwn'd}{1}}}
    edge from parent}
    child [missing] {}
    child [purpuraA] {node {Rationalization\phantom{j}}
        child [purpuraA] {node [darkgray] {Thought: \testing{PentestGPT}{1}, \testing{PentestGPT}{7}, \debug{AdbGPT}{2}, \testing{AXNav}{1}, }}
        child [white] {node [darkgray] {\phantom{Thought:} \testing{AXNav}{2}}}
        child [purpuraA] {node [darkgray] {Assessment: \testing{SysKG-UTF}{4}}}
        child [purpuraA] {node [darkgray] {Pseudo-code guided assessment: \testing{SysKG-UTF}{3}}}
    edge from parent};
\end{tikzpicture}

\end{document}

